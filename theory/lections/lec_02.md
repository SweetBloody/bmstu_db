# Базы данных. Лекция 2

### Семантическое моделирование данных

#### Нотация Чена

1. Сущность - обозначается квадратом
   * сильные - один квадратик (`зачетка`)
   * слабые - два квадрата, один внутри другого (`студент`)
  
  - Свойство\атрибут - овал
```
Студент
    * ФИО
    * группа
    * группа здоровья
    * пол
```
2. Связь
```
Зачетка -<>- Студент
```
Виды связей:
* один к одному `студент -<>- зачетка`
* один ко многим `студент (n)-<>-(1) группа`
* многие ко многим `студент (n)-<>-(m) препод`

  id_stud|Фамилия|Имя|Отчество|Возраст|
  |---|---|---|---|---|
  1|Иванов|И|И|20|
  2|Петров|П|П|21|

    |id_prep|ФИО|Предмет|
    |---|---|---|
    |1|Гаврилова|БД|

    |id_stud|id_prep|
    |---|---|
    |1|1|
    |1|2|
    |2|1|
> Вся таблица - ключ


### Ключи
Два вида:
* Первичный ключ - непустое множество атрибутов, которое однозначно идентифицирует кортеж в отношении
    * Однозначен (уникален)
    * Неизбыточен

Может быть простым и составным (входят несколько атрибутов)

|Фамилия|Имя|Отчество|Возраст|
|---|---|---|---|
|Иванов|И|И|20|
|Петров|П|П|21|

* Внешний ключ - одна сущность ссылается на другую, создается дополнительный ключ в сущности, которая ссылается на другую

|Фамилия|Имя|Отчество|Возраст|_Номер зачетки_|
|---|---|---|---|---|
|Иванов|И|И|20|20у554
|Петров|П|П|21|20у324

|_Номер зачетки_|Зачетка|
|---|---|
|20у554|И
|20у324|П

---
### Лабораторная работа №1 
* Выбрать предметную область
* Подумать над предметную область
* Не менее 5 ссущностей
* Атрибутов не меньше 5 для каждой сущности
* В каждой таблице не менее 1000 строк
---

### Реляционная модель

#### 3 основные части
* Структурная
  * _тип данных_
  * _домен_ - подмножество значений некоторого типа данных, имеющего определенный смысл (уточнение типа данных, тип данных с ограничениями)
    * у домена всегда есть свое уникальное имя в пределах БД
    * он может быть определен на другом домене `четные натуральные числа`
  * _атрибут отношения_ - упорядоченная пара вида `{<имя атрибута>; <домен>}`
  * _заголовок отношения (схема отношения)_ - множество атрибутов отношения `{<имя атрибута>; <значение атрибута>}`
  * _кортеж_ - множество упорядоченных пар вида `{{<имя атрибута 1>; <значение атрибута 1>}, {<имя атрибута 2>; <значение атрибута 2>}, ...}`
  * _отношение_ - соединение схемы отношений и множество кортежей
* Целостная
  * _целостность сущностей_ - наличие первичного ключа, его уникальность и неизбыточность
  * _целостность ссылок_ - про внешние ключи, мы ссылаемся только на то, что существует (на существующую сущность, на существующий атрибут)
* Манипуляционная

